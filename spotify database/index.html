<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Top Data</title>
    <link rel="stylesheet" href="static/index.css">
</head>
<body>
<h1>♡ Yuna's last 4 weeks of music ♡</h1>

<!-- Display Top Songs -->
<h2>Top 10 Streamed Songs (Last 4 Weeks)</h2>
<ul id="top-songs-list">
    <!-- Top Songs will be dynamically populated here -->
</ul>

<!-- Display Top Artists -->
<h2>Top 10 Streamed Artists (Last 4 Weeks)</h2>
<ul id="top-artists-list">
    <!-- Top Artists will be dynamically populated here -->
</ul>

<script>
    // Fetch top songs and top artists from Flask server
    function fetchData(endpoint, elementId) {
        fetch(endpoint)
            .then(response => response.text())  // Expecting HTML response
            .then(data => {
                let list = document.getElementById(elementId);
                list.innerHTML = data;  // Insert the raw HTML into the page
            })
            .catch(error => console.error('Error:', error));
    }

    // Fetch data for the different sections
    fetchData('https://my-flask-api-ywsd.onrender.com/top-songs', 'top-songs-list');
    fetchData('https://my-flask-api-ywsd.onrender.com/top-artists', 'top-artists-list');
</script>

</body>
</html>
